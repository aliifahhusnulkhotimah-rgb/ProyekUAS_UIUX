<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reservasi Tempat | Coaffe Kopi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        h1, h2, h3 { font-family: 'Playfair Display', serif; }
        body { font-family: 'Poppins', sans-serif; }
        .toast {
            position: fixed; top: 20px; right: 20px; min-width: 300px;
            background: white; border-radius: 12px; box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            padding: 20px; z-index: 9999; animation: slideIn 0.3s ease-out; display: none;
        }
        @keyframes slideIn { from { transform: translateX(400px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        .toast.show { display: block; }
        .toast.success { border-left: 4px solid #10b981; }
        .toast.error { border-left: 4px solid #ef4444; }
    </style>
</head>
<body class="bg-[#fdfbf7] text-stone-800">

    <div id="toast" class="toast">
        <div class="flex items-start">
            <div id="toastIcon" class="mr-3 text-2xl"></div>
            <div class="flex-1">
                <div id="toastTitle" class="font-bold text-stone-800 mb-1"></div>
                <div id="toastMessage" class="text-sm text-stone-600"></div>
            </div>
        </div>
    </div>

    <nav class="bg-[#5c4033] p-4 shadow-lg sticky top-0 z-50">
        <div class="max-w-6xl mx-auto flex justify-between items-center">
            <div class="text-2xl font-bold text-white uppercase tracking-tighter">Coaffe<span class="text-orange-400">.</span></div>
            <ul class="flex space-x-6 text-white text-sm font-semibold">
                <li><a class="hover:text-orange-400 transition" href="index.html">Home</a></li>
                <li><a class="hover:text-orange-400 transition" href="menu.html">Menu</a></li>
                <li><a class="text-orange-400 underline underline-offset-8" href="reservasi.html">Reservasi</a></li>
            </ul>
        </div>
    </nav>

    <main class="max-w-5xl mx-auto my-12 px-6">
        <div class="bg-white rounded-[3rem] shadow-2xl overflow-hidden flex flex-col md:flex-row border border-stone-100">
            <div class="md:w-5/12 bg-[#5c4033] p-10 md:p-16 text-white flex flex-col justify-between relative overflow-hidden">
                <div class="relative z-10">
                    <span class="text-orange-400 font-bold tracking-widest text-xs uppercase">Book a Table</span>
                    <h1 class="text-4xl md:text-5xl font-bold mt-4 leading-tight">Amankan Sudut <span class="italic text-orange-200">Favoritmu.</span></h1>
                    <div class="mt-12 text-sm opacity-80">
                        <p>Jam Operasional Reservasi:</p>
                        <p class="font-bold text-orange-200">12.00 PM - 10.00 PM</p>
                    </div>
                </div>
            </div>

            <div class="md:w-7/12 p-10 md:p-16">
                <form id="formReservasi" class="space-y-6">
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="space-y-2">
                            <label class="text-xs font-bold uppercase text-stone-400">Nama Lengkap *</label>
                            <input type="text" id="nama" required class="w-full bg-stone-50 border-b border-stone-200 py-3 outline-none focus:border-orange-500 transition">
                        </div>
                        <div class="space-y-2">
                            <label class="text-xs font-bold uppercase text-stone-400">WhatsApp *</label>
                            <input type="tel" id="whatsapp" required class="w-full bg-stone-50 border-b border-stone-200 py-3 outline-none focus:border-orange-500 transition">
                        </div>
                        <div class="space-y-2">
                            <label class="text-xs font-bold uppercase text-stone-400">Tanggal *</label>
                            <input type="date" id="tanggal" required class="w-full bg-stone-50 border-b border-stone-200 py-3 outline-none focus:border-orange-500 transition">
                        </div>
                        <div class="space-y-2">
                            <label class="text-xs font-bold uppercase text-stone-400">Waktu (12:00 - 22:00) *</label>
                            <input type="time" id="waktu" required class="w-full bg-stone-50 border-b border-stone-200 py-3 outline-none focus:border-orange-500 transition">
                        </div>
                        <div class="space-y-2 md:col-span-2">
                            <label class="text-xs font-bold uppercase text-stone-400">Jumlah Orang *</label>
                            <select id="jumlahOrang" required class="w-full bg-stone-50 border-b border-stone-200 py-3 outline-none focus:border-orange-500 transition">
                                <option value="">-- Pilih Jumlah Orang --</option>
                                <option value="1-2 Orang">1-2 Orang</option>
                                <option value="3-4 Orang">3-4 Orang</option>
                                <option value="Group (5-10)">5-10 Orang</option>
                            </select>
                        </div>
                        
                        <div class="space-y-3 md:col-span-2">
                            <label class="text-xs font-bold uppercase text-stone-400">Pilih Area / Request Tempat *</label>
                            <div class="flex flex-wrap gap-4">
                                <label class="flex items-center space-x-2 cursor-pointer group">
                                    <input type="radio" name="area" value="Indoor (AC)" required class="w-4 h-4 text-orange-500 border-gray-300 focus:ring-orange-500">
                                    <span class="text-sm text-stone-600 group-hover:text-orange-600 transition">Indoor (AC)</span>
                                </label>
                                <label class="flex items-center space-x-2 cursor-pointer group">
                                    <input type="radio" name="area" value="Outdoor (Smoking)" class="w-4 h-4 text-orange-500 border-gray-300 focus:ring-orange-500">
                                    <span class="text-sm text-stone-600 group-hover:text-orange-600 transition">Outdoor</span>
                                </label>
                                <label class="flex items-center space-x-2 cursor-pointer group">
                                    <input type="radio" name="area" value="VIP Room" class="w-4 h-4 text-orange-500 border-gray-300 focus:ring-orange-500">
                                    <span class="text-sm text-stone-600 group-hover:text-orange-600 transition">VIP Room</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <button type="submit" id="btnSubmit" class="w-full py-4 bg-[#5c4033] text-white rounded-2xl font-bold hover:bg-orange-600 transition shadow-xl uppercase tracking-widest text-sm">
                        Konfirmasi Reservasi
                    </button>
                </form>
            </div>
        </div>
    </main>

    <script>
        document.getElementById('tanggal').setAttribute('min', new Date().toISOString().split('T')[0]);

        document.getElementById('formReservasi').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const btnSubmit = document.getElementById('btnSubmit');
            const waktuInput = document.getElementById('waktu').value;
            const jam = parseInt(waktuInput.split(':')[0]);

            if (jam < 12 || jam >= 22) {
                showToast('error', 'Jam Tidak Tersedia', 'Maaf, reservasi hanya tersedia mulai pukul 12:00 sampai 22:00.');
                return;
            }

            // Ambil nilai radio button area yang dipilih
            const areaTerpilih = document.querySelector('input[name="area"]:checked').value;

            btnSubmit.disabled = true;
            btnSubmit.innerHTML = 'Memproses...';

            const newRes = {
                nama: document.getElementById('nama').value,
                whatsapp: document.getElementById('whatsapp').value,
                tanggal: document.getElementById('tanggal').value,
                waktu: waktuInput,
                jumlah: document.getElementById('jumlahOrang').value,
                area: areaTerpilih // DATA BARU: REQUEST TEMPAT
            };

            let reservasiData = JSON.parse(localStorage.getItem('reservations')) || [];
            reservasiData.unshift(newRes);
            localStorage.setItem('reservations', JSON.stringify(reservasiData));

            showToast('success', 'Berhasil!', `Reservasi di area ${areaTerpilih} telah terdaftar.`);

            setTimeout(() => {
                this.reset();
                btnSubmit.disabled = false;
                btnSubmit.innerHTML = 'Konfirmasi Reservasi';
            }, 2000);
        });

        function showToast(type, title, message) {
            const toast = document.getElementById('toast');
            document.getElementById('toastTitle').textContent = title;
            document.getElementById('toastMessage').textContent = message;
            toast.className = `toast ${type} show`;
            document.getElementById('toastIcon').innerHTML = type === 'success' ? '✓' : '✕';
            setTimeout(() => toast.classList.remove('show'), 5000);
        }
    </script>
</body>
</html>